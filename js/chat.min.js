var Chat={key:"<?php echo sha1($hackerdata['last_login'].$hackerdata['started']); ?>",textField:document.getElementById("msg"),prevMessage:"",init:function(){Chat.actionsMonitor();Chat.updateChat();Chat.updateUsersList()},actionsMonitor:function(){Chat.textField.addEventListener("keyup",function(e){if(e.keyCode==13){Chat.sendMessage();Chat.textField.value=""}if(e.keyCode==38){Chat.getPrevMessage()}});document.getElementById("chat-button").addEventListener("click",function(e){Chat.sendMessage();Chat.textField.value="";e.preventDefault()})},updateOutput:function(e){if(e==="kicked"||e==="offline"||e==="banned"||e==="hybernated"||e==="prison"){window.location.reload()}else{var t=document.getElementById("chat-window");t.innerHTML=e;t.scrollTop=t.scrollHeight}},sendMessage:function(){var e="chat.php?msg="+encodeURIComponent(Chat.textField.value)+"&code="+Chat.key;AJAX.load(e,function(e){Chat.updateOutput(e)});Chat.prevMessage=Chat.textField.value},updateChat:function(){var e="chat.php?all=1&code="+Chat.key;AJAX.load(e,function(e){Chat.updateOutput(e)});setTimeout(Chat.updateChat,5e3)},updateUsersList:function(){var e="pages/ajax_chatuserlist.php?code="+Chat.key;AJAX.load(e,function(e){if(e==="timeout"||e==="kicked"||e==="offline"||e==="banned"||e==="hybernated"||e==="prison"){window.location.reload()}else{var t=document.getElementById("users");t.innerHTML=e}});setTimeout(Chat.updateUsersList,7e3)},setPrevMessage:function(){if(Chat.textField.value!==""){Chat.prevMessage=Chat.textField.value}},getPrevMessage:function(){Chat.textField.value=Chat.prevMessage},whisper:function(e){Chat.textField.value="/w|"+e+"|";Chat.textField.focus()}};Chat.init()