var HF={title:document.title,date:new Date(settings.serverTime),init:function(){HF.breakOutOfFrames();HF.addConfirmations();HF.accordionRetrieveStatus();HF.accordionToggleView();HF.updateClock();HF.updateHackCounters();HF.requestInboxCount();HF.requestChatMention()},changeTitle:function(a){if(a===null||a.length===0){a=HF.title}document.title=a},redirect:function(a){document.location=a},padlength:function(a){return(a.toString().length===1)?"0"+a:a},seconds2time:function(g,d){var b=Math.floor(g/86400);var e=Math.floor((g%86400)/3600);var c=Math.floor(((g%86400)%3600)/60);var a=((g%86400)%3600)%60;var f="";if(e>0){f=f+e+"h:"}if(c>0){f=f+c+"m:"}f=f+a+"s";if(d===1){f=b+"d:"+f}return f},confirmation:function(a){if(a===null||a.toString().length===0){a="Are you sure you want to proceed?"}return window.confirm(a)},checkAll:function(c,b){if(typeof(c.length)==="undefined"){c.checked=b;return}for(var a=0;a<c.length;a++){c[a].checked=b}},breakOutOfFrames:function(){if(window.top.location!==window.location){window.top.location.replace(window.location)}},playSound:function(){if(settings.sound.play!==1){return false}var a=new Audio(settings.sound.file);a.onended=function(){delete a};a.play()},addConfirmations:function(){var a=document.querySelectorAll(".bg-red");for(var b=0;b<a.length;b++){a[b].disabled=false;a[b].addEventListener("click",function(d){var c=this.getAttribute("title");if(HF.confirmation(c)===false){d.preventDefault()}})}},accordionRetrieveStatus:function(){var c=document.querySelectorAll("input[type=checkbox].accordion-toggle");for(var b=0;b<c.length;b++){var a=Cookie.read(c[b].id);if(a=="true"||(a===null&&c[b].checked===true)){addClass(c[b].parentNode,"checked")}else{if(a!==null){removeClass(c[b].parentNode,"checked")}}}},accordionToggleView:function(){var b=document.querySelectorAll("input[type=checkbox].accordion-toggle + label");for(var a=0;a<b.length;a++){b[a].addEventListener("click",function(f){f.preventDefault();var d=this.getAttribute("for");var c=document.getElementById(d);if(Cookie.read(c.id)=="true"){removeClass(this.parentNode,"checked");Cookie.write(c.id,"false",365)}else{addClass(this.parentNode,"checked");Cookie.write(c.id,"true",365)}})}},updateClock:function(){var b=HF.date;b.setSeconds(b.getSeconds()+1);var d=HF.padlength(b.getHours()),a=HF.padlength(b.getMinutes()),c=HF.padlength(b.getSeconds());document.getElementById("servertime").innerHTML=d+":"+a+":"+c;setTimeout(HF.updateClock,1000)},updateHackCounters:function(){for(var b in settings.counters){settings.counters[b]-=1;var a=document.getElementById(b.toString());if(a===null){continue}if(settings.counters[b]>-1){a.innerHTML='<span class="red">'+HF.seconds2time(settings.counters[b])+"</span>"}else{a.innerHTML="<span>READY!</span>"}}setTimeout(HF.updateHackCounters,1000)},requestInboxCount:function(){AJAX.load(settings.ajax.inbox,function(a){var c=parseInt(a);var d="";var b=parseInt(Cookie.read("inbox"));if(b===undefined){b=0}if(c>0){d=c+" New Message";d+=(c!==1)?"s":"";HF.playSound();b='<span class="bold red">'+c+"</span>"}Cookie.write("inbox",c,7);HF.changeTitle(d);document.getElementById("inboxcount").innerHTML=b});setTimeout(HF.requestInboxCount,60000)},requestChatMention:function(){AJAX.load(settings.ajax.chat,function(a){var b="";if(a>0){b="You got mentioned in chat!";HF.playSound()}HF.changeTitle(b)});setTimeout(HF.requestChatMention,30000)}};var AJAX={getHTTPObject:function(){var d=null;if(typeof XMLHttpRequest!=="undefined"){d=new XMLHttpRequest()}else{var a=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];for(var b=0;b<a.length;b++){try{d=new ActiveXObject(a[b]);break}catch(c){}}}return d},load:function(a,c){var b=AJAX.getHTTPObject();b.onreadystatechange=function(){if(b.readyState===4&&b.status===200){var d=b.responseText;c(d)}};b.open("GET",a,true);b.send(null)}};var Cookie={write:function(b,d,e){var c=b+"="+escape(d)+";";if(e){var a=new Date(new Date().getTime()+parseInt(e)*1000*60*60*24);c+="expires="+a.toGMTString()+";"}document.cookie=c},read:function(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)===" "){f=f.substring(1,f.length)}if(f.indexOf(e)===0){return f.substring(e.length,f.length)}}return null},erase:function(a){if(Cookie.read(a)){Cookie.write(a,"",-1)}}};function hasClass(b,a){return !!b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function addClass(b,a){if(!hasClass(b,a)){b.className+=" "+a}}function removeClass(c,a){if(hasClass(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}}function checkAll(b,a){HF.checkAll(b,a)}function confirmSubmit(a){HF.confirmation(a)}function redirect(a){HF.redirect(a)}function quote(a){document.hf_form.message.value+=a}window.onload=HF.init;